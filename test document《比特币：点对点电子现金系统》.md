# *Bitcoin: A Peer-to-Peer Electronic Cash System*
# 比特币：点对点电子现金系统

<center>Satoshi Nakamoto</center>
<center>satoshin@gmx.com</center>
<center>www.bitcoin.org</center>


**摘要:** 纯点对点版本的电子现金系统将允许直接从一方在线付款到另一方，而不经过一个金融机构。数字签名提供了部分的解决方案，但如果仍然需要一个可信第三方来防止双花，就将丧失意义。我们基于点对点网络提出了双花问题的解决方案。点对点网络添加时间戳的方式为将交易的哈希值添加到一条不断增长的链中——该链采用基于哈希的工作量证明方式进行增长，修改记录必须重新进行工作量证明。最长的链不仅作为观察到的事件序列的证明，也作为自身来自最大算力池的证明。只要点对点网络的大部分算力被合作节点掌握，他们就能够超过攻击者，生成最长的链。该网络本身需要最小的结构，其中的消息以尽力而为的方式广播，节点可以随意离开或重新加入网络，并接受最长的工作量证明链，以此确证他们不在网络期间发生的事。

## 1.介绍
互联网上的商业几乎完全依赖于金融机构作为可信第三方来处理电子支付。虽然在大多数交易下系统都运行良好，但这种基于信任的模式仍有其固有弱点。完全不可逆的交易是不可能的，因为金融机构不能避免调解纠纷。调解的成本增加了交易成本，限制了最小的实际交易规模，切断了小额临时交易的可能性，并且因为为不可逆服务提供不可逆支付能力的丧失而产生更广泛的成本。由于交易可被逆转，对信任的要求增加。商家必须警惕他们的顾客，尽可能多地获取他们本不需要的信息。一定比例的欺诈被认为是不可避免的。这些成本和支付不确定性可以通过亲自使用实物货币来避免，但没有任何机制可以使通过没有信任方的通信渠道进行支付成为可能。

所需要的是基于密码证明而不是信任的电子支付系统，允许任何两个自愿的双方直接交易，而不需要一个可信第三方。在计算上不可逆转的交易将保护卖家免受欺诈，常规托管机制也可以很容易地实施，以保护买家。本文提出了一种双花问题的解决方案，即采用点对点分布式时间戳服务器来生成交易的时间顺序的计算证明。只要诚实节点所控制的总算力比攻击节点控制的更多，该系统就是安全的。

## 2.交易
 我们将电子币定义为数字签名链。币的转移是通过所有者对前一笔交易和下一个所有者的公匙进行签名，并将这两个签名放到币的末端来实现。收款人可以通过验证签名来验证链所有权。

<center>![](data:image/png;base64,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)</center>

当然，问题是收款人无法验证其中一个所有者没有进行双花。一个常见的解决办法是引入一个可信中央权威机构（造币厂），检查交易是否被双花。每次交易后，必须将币退还给造币厂以发行新的币，只有从造币厂发行的币可以确信没有双花。这个解决方案的问题是，整个货币体系的命运取决于运营造币厂的公司，每一笔交易都要经过它们，就像银行一样。

我们需要一种方法让收款人知道前所有者没有将币用于早些的交易。就这个目的而言，最早的交易是最关键的，所以我们不关心稍后是否进行了双花。确认交易是否存在的唯一方法是了解所有交易。在造币厂模型中，造币厂了解所有的交易，并决定哪一笔交易是第一个。为了在没有信任方的情况下达到这个目的，交易必须被公开宣布[1]，我们需要一个系统让参与者基于他们接收到的事实就序列的单一历史达成共识。收款人需要证据，表明在每次交易时，大多数节点都同意这是第一次收到。

## 3.时间戳服务器
我们建议的解决方案是从一个时间戳服务器开始。时间戳服务器通过对多个项目组成的区块进行哈希来得到时间戳，并广泛发布该哈希值，如在报纸或Usenet帖子[2-5]中。时间戳用于证明数据在得到哈希值的那个时间点存在。每个时间戳的哈希值中都包含之前的时间戳，形成一个链，每个新加的时间戳都对它之前的时间戳进行了增强。

<center>![](data:image/png;base64,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)</center>

## 4.工作量的证明
要在点对点基础上实现分布式时间戳服务器，我们需要使用类似于Adam Back的Hashcash[6]的工作量证明机制，而不是报纸或Usenet帖子。工作量证明涉及在哈希后检索一个值，例如SHA-256，得到的哈希值以一定数量的零比特位开始。所需的平均工作量与要求的零比特位的数量呈指数关系，并且答案通过一次哈希就可以验证。

对于我们的时间戳网络，工作量证明机制这样实现：在区块中递增一个nonce值，针对每次的nonce，计算整个区块的哈希值，直到找到一个哈希值，该值满足所要求的零比特位数量。一旦CPU已经花费了努力使其满足工作量证明，不重做该工作的情况下无法改变块。后来的块被放入链后，改变该块所需的工作量将包括重做之后所有块的工作。

<center>![](data:image/png;base64,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)</center>

工作量证明机制也解决了在多数决策制定中确定哪个为代表的问题。如果大多数的定义是基于一个IP地址一票的话，能够分配许多IP的人将可以破坏该系统。工作量证明本质上是一个CPU一票。大多数的决定由最长的链代表，因为其包含了最多的工作量证明工作。如果大部分的CPU能力都是由诚实的节点来控制，诚实的链条就会增长最快，超过任何竞争链。要修改过去的块，攻击者将不得不重做之后所有区块的工程证明，然后赶上并超越诚实节点的工作。稍后我们会展示一个较慢攻击者追赶的概率随着随后的块被添加，指数性地减小。

为了补偿硬件速度的增加和随着时间的推移对运行节点的兴趣变动，工作量证明的难度取决于一个变化的平均数——每小时生成区块数量。如果区块产生得太快，难度就会增加。

## 5.网络
运行网络的步骤如下：

1. 新交易广播给所有节点。
2. 每个节点收集新的交易到一个块。
3. 每个节点的工作是找到一个困难的块工作量证明。
4. 当节点发现工作量证明时，它将该块广播给所有节点。
5. 只有在块中所有交易都有效且尚未支过的情况下，节点才接受该块。
6. 节点通过在链上创建下一个块来表示他们接受了该块，并使用接受块的哈希作为新创建块的前导哈希。

节点总是认为最长的链是正确的，并将继续扩展它。如果两个节点同时广播了下一个块的不同版本，则会有一些节点先接收到这一个或那一个。在那种情况下，他们在收到的第一个块上面工作，但保存其他分支，以防其他分支变得更长。当下一个工作量证明被找到，一个分支变得更长时，均势将被打破; 在另一个分支上工作的节点会切换到这个较长的分支。

新交易的广播不一定要到达所有的节点。只要他们到达很多节点，不久就会进入一个块。块广播也容忍消息丢失。如果一个节点没有收到一个块，它会在收到下一个块时意识到错过了一个块，并请求它。

## 6.激励
按照惯例，块中的第一笔交易是一个特殊的交易，其中生成的币归属于块的产生者。这激励了节点支持这个网络，并提供了一种发行币、投入流通的方式，因为没有中央机构来发行它们。稳定增加一定数量的新币类比于黄金挖矿工消耗资源挖到黄金然后投入流通领域。在我们的机制中，这是CPU时间和电力消耗。

交易费也可以作为激励。如果交易的输出值小于其投入价值，差额就是交易费用——作为包含该交易的区块的追加激励。一旦预定数量的币已经进入流通，激励可以完全转移到交易费用，完全不会有通货膨胀。

激励可能有助于鼓励节点保持诚实。如果一个贪婪的攻击者能够比所有诚实的节点组装更多的CPU算力，他将不得不面临选择：使用算力窃回他的付款来实现欺诈，或者用它来生成新的币。他应该发现按照规则出牌更有利可图——这种规则保障他获得的新币比其他人联合起来所获得的都要多，而不是破坏规则，损害自己的财富的有效性。

## 7.回收磁盘空间
当新交易被放入链中，且在该链后扩展了足够多的区块之后，可以确认该交易不会被撤销，则可以丢球该交易之前的交易记录，以节省磁盘空间。为了在不破坏块的哈希的情况下实现这一点，交易在Merkle树[7][2][5]中被哈希，并且只有Merkle树根包含在块哈希中。老区块可以通过这样的修剪来压缩大小。除Merkle树根外，不需要保存其他内部哈希。

<center>![](data:image/png;base64,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)</center>

没有交易记录的区块头大概是80个字节。假设每10分钟产生一个区块，每年就是 80字节* 6 * 24 * 365 = 4.2MB。在2008年以前，计算机系统一般都有2GB内存，且摩尔定律预测内存以每年1.2GB的速度增长，所以即使必须将所有区块头都装入内存中，也不是问题。

## 8.简化付款校验
可以在不运行完整网络节点的情况下验证付款。用户只需要保留最长链的区块头副本，他可以不断发起查询，直到确认拥有最长的链，这条链上的某个区块可以连接到用户交易所在的Merkle分支。用户原本不能自行确认这笔交易的有效性，但通过将这笔交易链接到链中，他可以看到一个节点已经接受它，并且在它之后又链接了新的区块，这表明交易已被全网确认。

<center>![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAusAAAFACAIAAACKqKXaAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAgAElEQVR42u2dP2zjSIKvO9VGDaZMGneckG87GDi1NhobmAO6fXgbmG+BAUYTaq4jNi456y6yGg943Zqs1YED9e0BDzKMw54Ph32AfbjEfpN0eyfTBA6YCuiIqY/F4p8iVZQoW5JJ6vuSGVNk8d+vWJ+qiuondwAAAAB14wmXAAAAADAYAAAAAAwGAAAAoITB+N7V+fmV51f6sMVBjlNWfbzLXgPd+jPL5DHPLiq/o2UOS7PuKs4KAACgqgbjnR5a1uGpV4nDm14fH+x+P3sw4iBbWQzr4Ph6ugJ7mYw6tiEK3HEvp/df378Z7FnKIvG3GaymXtslr3Wp1f3J2N23jOSy2J3RxL/Xna1UEgAAAOpkMEUHk1/uexcDxzbLOcfiXZp7gxv/oetPL90dOz3GcD37d7ZiNWINa8ldzb81oU6Z1n53ML7y/OCqDLv7wV6lxGAkAACwpQYTfL0/ctqWYVht52gcfbOfXr/rdo8/DsMv/oa178YfRO2nIZYNPx53u+9EF0m8tCUKcYcX0SBFXLS6OCi5I/fWeZfrXdEcZLwo2OpIHo4Z9cpoD1t/OukuD7r5fS69fuYg5R8fPirOkumlKbq26rn8khYoVu84HfV0IiXKa1yqSeEhvHwzmLlT4U1xk8sfFxreWXFWhbcYAACg+gaTfr0fjfqObcSDJnJAxxAfDAfCTeTG4aCJslQOn4RNrHCUoJCBaDNleysXi6LHStn3M5jweMSO+/2j4/FkWnDY+tMpNpJl148OyY52F3vERDnw9CTmXtv0XH6NNpCrp8NDs7JS2IWjuVPKrQpuilgedSklx1e0IQAAQPUNJjutI2z05Fpi/WQKiGhDw/Yt278QTgGxDv/458Gerbaw8UBLOMKy2zsPO2R87+oinj86bxTJ3H09jKfyKi1vdlSn6LALT6dgl8uun6wmzzfdPF09PdC511YZoYo6UfpafblbOEykv1OyP6eb9OZkDzAxGN2GAAAA1TeY3OK0mc1+oPaEWNlJINbhcDgz/7aV9s2Es2Gt9kEnHVuaazC5ebz7XbmZ/njyh114OukWyvtO51c//8ty63vJONFO9iIlWyojPiWvbXrWBfN0ShhMwZURxz4auB3noB13l+UMpvCSAgAA1MlgFjVvhQaj9pxkmvugER0P5GSMtIkuO5O3XDtdfHxFPQ+JZIlDX2b9aM2ok+la2VtkLv9+WdyNU3BtZV+I7fR6jq0dLMq//hQtnYyPj4TdFV0ZqY9CHh2n4/Z+3DUxGAAAaIzBZCeJ6vogMltnG9OwcZejSJY6/jG9fn8ctK1T72J4/D6eRlJmiKa0wRQdduHpFBS97PrK0dg7nX/sKG8lyaGh1//4Mi81i65tenHDeTCaF6/Cq54dYFLWLRCR7FCVMkiEwQAAQN0MJt9RIrpJ5HxP2+mP5KwT/Tu66ZiKsrqYnBp2TEzC306RS5W5K9N0Kmm02FSmsgYHM8r/rlppg7krOuyi5fPmAS2zvqow5lem2mcSdqVklpW7tjNTfzUOEwpIfCmjS2zMv1OhP6m3hFEkAACoq8HopqooL0Jn3qgtbN6Sn1YLWtD+m5dWOm00GipK566oS7NvZMufi5v5cbnyBlN02IXLC4tedn3FfLInEP22XXZZiWub+bPQYXLXUnk3u+hOpb+BF774/qGrvn2NwQAAQE0MZkX43ufPScdJ+lIOAAAAQIUNRv8TLwAAAABVNhh1FCn3W7gAAAAAlTUYAAAAAAwGAAAAAIMBAAAADAYAAAAAgwEAAADAYAAAAACDAQAAAMBgAAAAADAYAAAAwGAAAAAAMBgAAAAADAYAAAAwmBUUCrB+NlE9AAgzQMXCvHaDwQ1h3Y/jxuwFCDNhBsKMwQD1hCQDYSbMgMFQVYCHPgBhBsBgAHjoAxBmIMwYDFBPeOgDYSbMgMFQVYB6QpKBMANgMAA89AEIMxBmDAaAhz4QZsIMGAwGA9QTkgyEGQCDoaoAD30AwgyEufEG43tX5+OU8yvPVz9S/y7Nwg21K9x7d2soBWr50J8T5ntHgzAT5ko9lkkyYDAp3umh1cpgWPvueOLLj6zDU2/p3S7cULvCvXe3hlKglgYzJ8z3jgZhJsyVeiyTZMBgiqIVqPK479jmjns5xWCghgZTEGae+1AzgyHJgME8WT5ayZLcR/5kfOS0LcOw2s5R/G1A1K6LYXc/s1jZUGzUcTrK+mWqSlxmSxTqDi/i3kex3BXH0MocRHoI++7gzcu0aH050+t3R8cfh+6+ZVoHx9dTst5Mg8kvUf+fMEN9DIYkAwZTsqr4k1FH0wcjF1v73cFoFHwbMIzo64B/M9gzDbF8KBabe4MbP9lQbmR3RhN/dqfm7uvhWGX4etcMdze9dHdMke1gXwNRM6LvHum+guWiBsi9KYcw6B7s/I/g/+VBF5UT9tCKDfr9o+PxhLHZxhqMEmb1U8IMNTMYkgwYTGFVyQ64tmQCs/YdxNGK648MZ5rqeHkg0W4o4OGGL9/09fVEv1NJUOgkKNyOjiBE7MOW1XV81D3KjwVnDi08spas3IXlhBVV/QQaZDAFYS5KDGGGihoMSQYMplRVUb071OiZPpj8gFJcV/TDm0lNKArkvO7Kn7XVKOnHvDoPxL3jHIg+y5bmEDJjYPpyGJNtssEUhFmJBmGGOhgMSQYM5h4Drrr6kV+roAopnxq20+s5tqWtLIuqykxXZvg6obD1cOz0wHE6bu/HXXNRVdGXQ1VpssEUhHlOaAkzVNFgSDJgMCsymEy3ZFF3ZbDh97tiDlZ2wDX5uFxVEd2VltrLOb1+fyxme2V7GcN6M9uTGip+0l2pLYd58VtuMIQZmmEwJBkwGF13pZyMlZnJG87Lsp3+KOrQjEKoLk/mjKUbFlSWuZPew20MWaZ6OGG1VJe20jqRHEJnN5kyVlQOVaXRBlMQZjV1hBlqYDAkGTCY5aeMidng8gW3/G8SRK/AZX5bKX2br+Cn8LSVZeFre0mZyuGIpe5+vNAdfujuRJ2h8Qezr+1py6GqNNlgCsJ8p38vlDBDVQ2GJAMGwz/AAdtjMACEGQCDAeChD4SZMANhxmCAekKSgTATZsBgqCrAQx+AMANgMAA89IEwE2YgzBgMUE9IMhBmwgwYDFUFeOiTZCDMABgMAA99AMIMhBmDAeoJD30gzIQZMBiqClBPSDIQZgAMBoCHPgBhBsKMwQDw0AfCTJiBMFfXYJ7ADNt20Rr20CfAy97iLTxfwkyYG9MYbbvBoLHLXpAmXbRGGgwxXuqCNOyKNcxgCPDWhhmDoYZgMBgMkcZgCDM3l8YIg6GGYDA89Hnoc76EmTBjMBgMocFgeOjz0MdgCDNhxmCoIRgMBkOkMRgMhjDTGGEwGXzv6nyccn7l+Ws4FbGXmaK1C+9X1IZDs8LTwWDqGOnHz/OqH/pNiDRhfuwwr/H53KQwYzB333333dnZ2SrO3zs9tFpZDOvg+Hq60lMRe7EOT73FC+9X1IZDE140Y8e9nD78wDCYhWGuXqQfP8+rfug3IdKPHuaTk5O3b9/e3t5ua5jX+HxuUpjXbTDlc/hoBiPfKX/69GnR03+pGqLeV9+7GDi2mbv7GIzusZKtIxjMPfeihvnTp08ruTtrjnRDDabmkX70MPd6PRnm58+fz29CGhrmKhlMhcO8boMpn8NHNpiEWZW5dw3JLppevzs6/jh09y1Tin9QgYbdfcsIvgi0HXd4ITrlgpW6naPxJO6f8yfjo67yd4lKIop1nXZUbrKtKClZGu0t3Orlm4Erj2LfzexocwZj7vztfuZJkjvH+NjTExLXqSuvZu7I46uaOXlluXr+TTWYhGfPnr169WpWZVYR6ebkeR0P/bmRns3z3dKRfkCe62UwCUVNyFqez//5y2OH+W59z+cmhXljBrMwh1UxmFmVWVENkd1x1n633z86Hk+8S3fHFPdrMBoNRKhlQqbBYmtvcBPd2ZvBnqXpwTN3Xw/HKsPXu2a4H7GFKfYiihWhMMPCpuHexNLxqO/YhlRq6dfh2sNw5XJevXKDCXZ7Iw4wOdNsDRl1bHns6aEXHXl6+kOxrhlfyan+ajfdYIpUZhWRbk6e1/HQL460Ns/Jl92SkX5QnmtqMLkm5MuXLys1GDXP//BPP3z92GGeEwnC/JgGU5TDQoOpwu8Wl5tekI+vmtLo0zj+4k7aSV2Imlhb3GW1lkwzscl2680SRUr9XpAkTR5a7zyUW9+7uriKv7Mm1UXsrFwVWYfBeJmTVb+1ZJ4TYQ0IPvlZf+SZCxZ8D3DllSi+2is2mOojVWa5HjJ9pJuT5zU99PWR1ufZKzx4XaSnD8tzyfOtPi9evDg5OVlFmDPP52qE+W59z+cmhbkK/8SNzGGq1BXpg7mfweTmie13s12C8Y3RJ93K1pKs8pceahUTxQOX7TgHol9SFipTFB5S+6AT99Nliyo9uLkeg1GfCbmvRuqAkqwlw6H2yAtOYc7V3pI+mIcYTEGkm5PntT30dZHW53kmu3Mj/cA8170P5iEGU+b5XI0wr/H53KQwP2IfTNUNJul4f0gvZdGn2t7G6P2+uG542jqyoJLIyiCqguN03N6PUf9lVHnGAzkI22olX6MrZDBpHbkpNJjo7+UNpuhqb4fByA7PlYwiNS/Pa3zoz0Zan+flH/oPyHPdDSbfYKz6+VyNMFfPYCoZ5kc0mFwOC0eRNmwws5Mf12EwYfeb3RklM7Om1++PY/mWtaT3U1dXR+ZXkkzXftp9J2ZKHb+PXxtMVLlyBhPVEXv/b3fMGfHPjyJpjnyaG639flfOMZ13tZtsMOuY/Ni8PK/1oZ+PtD7PXmFzpYv0f/7Xg/JcR4NJZiVqGoxVP5+rEeYqGkwFw7xhg5mTw0c2mOBZHxyr9gXUdRiMnAJlGLbTH+UHZKMqZH5l6urI/EoiA6YUKvvjlClk0QdmPB+2YgaTdqkm/a7hsYfnJI9cpP3XgiNXV1am8s692s0zmPW9gNrIPK/5oZ+LtDbPfnFzpYv09EF5rpHBzPmRizU+nysR5moaTOXCvBmDKZPDRzOYhS95r8Vg7pRX6HIDsnGr3dLfx/kdlUGh4RtsYZnu8EP8VUHZWfp2WyUNJq4jSusYv2tX5sjTE82+fjjnajfIYLS9mpswmDrnee0P/VykNXm+WzrSD8hzLQzm8vKybIOxnm+Yjx3mqhpMxcK8boMpn8NHM5iKtEw1gn8XqbIGQ6TXdEH4d5EIMzeXxgiDITQYDA99HvqcL2EmzBgMBkNoMBgizUMfgwEMBoOhhmAwGAyRxmAIMzeXxgiDwWAwGB76PPQ5X8JMmDEYDIbQYDA89HnoYzCEmTBjMOW3hRzbdtGaZzCw1C3ewvMlzIS5MY3RVhsMQMMMBoAwA2HGYAB46ANhJsyAwWAwQD0hyUCYATAYqgrw0AcgzECYMRgAHvpAmAkzEGYMBqgnJBkIMwAGQ1UBHvoAhBkAgwHgoQ+EmTADYcZggHpCkoEwE2bAYKgqwEMfgDADYDBrvHxwjx/pp55U9qFPgBsfacJMkgkzBsP3jC26IFv10CfGzb4ghJkkc1IYDDUEg+GhT6Q5I8LMfcdgMBjyxEOfhz6RJszcO64GBkMmuCA89LmDXBDCDBgMBkMNwWB46BNpzogwc98xGAyGSsJ58dDn1hNm7h1XA4Op3uXzvavz8Xh8fuX5C5fOQ2wxs7p24d38I0lZYu9UEh76G8gzkSbMdQxzzZ7PGAwGU37X3umh1Wq1zL3BTRrH6aW7YwRLrcNTr+QeRDkzq2sX3s0/kiyG3RlN7llPptfHB7vf6/eOwTT0ob/WPD9upOflGYMhzLV6Pm/dwxmDWaPBGOZXpq0EWdQRy/6dbW7cYNSVA+cf9x3byNbfuwdWWgym+Q/9teX5cSO9YNcYDGGuz/N56x7OGMwaDcba/cOuEif/ZrBn7Th/txct872LYXffMlqG1Xbc4YXsO5xevzs6/jh09y3TOji+/iVNpD8ZH3WcztF48msmpvpylqpjominbRmihKD8pIDZ5cHhdeSCzrvrKQazTQ/9BXm+KxPp/f/1zV/N5NnPBHJBnstEemV5xmAI84Oez1UKMwaDwSxpMIc//aQEMawj7scPcpFwflOkejAaDdwgieaOezmNOhUNa7/b7x8dp5XBn4w6thn1Lar5LipnTg3xvfPerpk4viw62GNQgpB/IypAuxyD2eKH/rw8z4miGum/d//mr2fyrKZ0YZ4XRnqVecZgCPMDns/VCjMGg8EsazCn12k8M0v++OfBnq12E4qsh52aYjWlAzHc6uWbvv5xH9Y8fTmZI5k3zhpV3qhiib9kR2rRckaRtvehX5jnKC+LI63Nc1raZHGeF0V6pXnGYAjzvZ/PVQszBoPBLG0wkyRpcbTkf4dDTWxb6edJBJN8q8Oi6Tra+Gcno4VVbvf1cDwejwaiQzM3Syw/oBTXhqLlGMwWP/SL8hzFYnGktXlOy/95cZ4XRXqlecZgCPO9n89VCzMGg8EsbTBysCioJRPV4aXBRLHNvUenqSGG7fR6jm0ldSRrMPpyCgxF9j6qfZn5zM/U5vx6GMz2PvSL8hx/OV0YaW2esw/9BXleFOmV5hmDIcz3fj5XLcwYDAazvMHIodBwipi0dC8ZRbLUvpDp9fvjcJ6Xpoak46xRsrOjSPpyivpY7vIzEOJqnO+QLFqOwWzzQ78gz3HH9sJIa/Oc+1o8P8+LIr3SPGMwhPnez+eqhRmDwWDuYTDJq3uRosfpFjk1Anvvj+Lew1wlypej1BH1xY2icgpriF5aZAlhAaYyBqtbHn0/Gel+eAmDafpDvyDP3pwo6gwm/20z0xLMzfPCSK8yzxgMYb7/87liYcZgMJj7GEz0U0nGbP9J9DacmLhl7XcjOS+sIUod+SXX8agrZ14NyfdVJq/8iQLc9IU9/XJZL5MTwmC266FfmOe7MpHW5nmafZt6fp5LRHp1ecZgCPODns9VCjMGg8FsS4PNBeGhDxgMYea+c1IYDJWE8+Khz60nzNw7rgYGg8GQJx763EEuCGEmzBgMBkMmuCA89Ik0BkOYSTInhcFQSTgvHvrcesJMmEkyBlN5g4EcVP66P/Sh2ZEmzCSZMGMwwNcXkqzh9va23W4/f/68IsdzcnLy9OnTs7MzYkyYgTBjMEA94aE/TxeCE3n79m1FDunLly/yC+iLFy+C/yfMhBkIMwYD1BOSnBGFQBGS/urb29vqHFtyYIFdXV5eEmbCDIQZgwHqCUkWnJ2dya4XSXWGkCQnJyfqbIBXr15tc2cMYQbCjMEA9YQki66XQAhyEwarM4SUHGTuCAPH+vTpE2EmzECYMRignmxjkgMJePbs2ewrD5UaQpKoI1wJvV6PMBNmIMwYDFBPtivJQfOvfWOzakNIktxAknq0FfQtwgyAwQDw0F8L7Xa76DcnqjaEJJkdSEp4+vTpVkkMYQbCjMEA9WR7kxw0+c+fP9cKQWVtQDuQtIU/FUOYgTBjMEA92fYkz87hbbfblT3a2YGkLRxCIsxAmCtnMAAN+EFuLjIQZoDK/lMJWDlAc7i8vPz06ZM6olTx31mRA0nJyFE1p+wAQEW7fLgEAM0gEBd1BsmrV68CP6j4MZ+cnKgjR4FvBUu4lQCAwQBsEc3owJDdSNxNAMBgALaCk5OTxvwwf5POBQAwGAAopHn9FkyIAQAMBqDh5Ka/NAMmxAAABgPQcJraXfHp06fLy0vuLwBgMAANpNlTRpgQAwAYDEAD2YbXdpgQAwAYDECjCNxlG/79ICbEAAAGA0C7XldXY0IMAGAwAE1g28ZWmBADABgMQO05Ozvbwn/AmQkxAIDBANSYrR1SYUIMAGAwALTi2BsAYDAAsCkYSWFCDABgMAA1Yzunv6BxAIDBANQYBlASmBADABgMAG02PgcAGAwArAfGTWZhTA0AMBgAmmrEDgAwGABYHQyXzIHBNQAMBgBooTE8AMBgAGAVMEpSBkbZADAYAKBhRvUAAIMBgPvC4MhSMNwGgMEAAO0xzgcAGAwALA9jIveDcTcADAYAHg3+5ULkDwAwGICawVDIA2EADgCDAQBaXywQADAYAFgEIyCrggkxABgMAGwIpr+ggwCAwQCUTn+zaMx9+fbbb5P/kaj/n/tT+9E333zz29/+dk4hDyx/YSGzHwEABgOwSoPhXKpsMJwOAGAwABgMTT4AYDAAtPqcCyBkABgMAK0+54LBAAAGA4DB0ORzOgAYDAAGw7nQ5AMABgNQk1bf967Oz688f/HCMszbcM5nwUcXJXa3TQazuftS/PG9dwcAGAzA2g3GOz20rMNTb/HCMhRs6E9GHdtohRh2ZzTJNIr+zWDPLLO7bZoHs5H7Iu7M2N234ltj7btjeW/m37HlhQwAMBiA+hmMMBTLdgYX3tS7GDi2oazhyyWt1rYZzKImfzMGI5Yb4a3x5Z0wd9zLqXRKI7pl571d09wb3PgYDAAGA1AjgwkatqHrtIOv6YbVdo6ir+jiu/tRstQdXkRDDeGGL98Mwu/10Vf6UGDChnFmh9NLd8e0O/03Ly0MZmmD0d2aJe5LdP1tRSfjzjBRivvuOr1jdnr/MBgADAagMgZj7r4ejlWGr3flsI78Mm7tdwej0aAbNH/yy3hoHuHS8ajv2IYRN3CitHA0ojsYhusHpfycbYtVoZne/NtF0JSW7VrYNoMpvi+xbuRuzX/9xxL3ZfZyi9tqqb0tYiJMUNDOzuJhJADAYAA2bzAtHdJggi/j3aTjJTEN2bz2zsNv+Oo03HBUIm42RYMYNJXDYdZPZn0Fg1n2vtzdaW+NuNSl70t+rE/MfDGzfS2J+MTTY+iDAcBgAKpkMHNHK8Lv4QO34xyIwYmoAQ0bwXDuZ/ugkw5W5EpLm1UMZlnKzIOZvTV/WeK+qGVLfdHP2NWpDQYDgMEAVNtgpKmI9tBxOm7vx3QQQzSf44GchtFqxTM9SxjMzFAFfTD3MpiiW1P6viTTacLXjnIvHPne58/Ja9QlXhbDYAAwGIAqGUw4WpTYRjL6IKaQHr+PJ3qq7Zu2pcxMhNG1hhjM8gajuzW/H/7fZe6LV9j5khl00konAGAwAFU2GPmukNMfjcdytqgcRVImkUYfxIMM2pZyEr2bGxSTWRmDeYDB6G7N7//PPy1zX6IuNnlnEsKfsFM/EHOCTZu5vAAYDECNDEb5wTMxnXP4oRt9F09e2s3+DlpRS5murp0VyjyY5Q1Gf2v+/1+WuS/a2cJJ54xa/JhftAPAYAAqZjCcSzX7YDgdAMBgAIPhXGjyOR0ADAaAVp9zockHAAwGgFYfg+F0AACDAcBgAIMBwGAAGtDqN4kmNfkJ6p/zP8r9+fXXXxd99K0O7WqykPkllPmIugaAwQAALOa7kIeX0263T05OuJ4AGAwAwCb05cmTJ71e7+FFvXjxIigKiQHAYAAANqEvAWdnZw8vLdAgWRoSA4DBAACsXV8CLi8vH15goEFJgUgMAAYDALBefVnVvOZAg9QykRgADAYAYI368vTp05U9IrMgMQAYDADAWvQloN1ur6rwZ8+eITEAGAwAwNr1JWAlr1JLAhmaLR+JAcBgAABWrC+repVakryOhMQAYDAAACvg1atXRT9PvJJXqSVv377dwF4AAIMBgG3hy5cvvV7v6dOns26xklepJbnXkZKZwsGugwPgLgBgMAAA9/eY3/zmN2v6J6KC8tWSgx3hLgAYDADACri9vf3Tn/6U9Mes8FXq6Cmp9Lt8/PgRfQHAYAAAVkAyqVb2x7x48WK15QcFqv0uzOEFwGAAAB7K7e3tCme9lOHs7Gzj3TC+d3U+Ho/Przx/4dJF5cysrl244Ehiltj3Q8691G6WOo+C8yl3YvfaE2AwAAAqj9IjsvGdeqeHVqvVMvcGN2mzOb10d4xgqXV46i1Rzszq2oULjkTBsPbd8cRf67kvPDx/MurY4mIYO+7ldPkrO0PRHpMdiX3ZndEEjcFgAACWZ/MdMJKNd8OIdtYwvzJtpV0VAmPZv7PNjRtMurLvXY37jm0uqQ2rNxixUtbv1rIf/2awZxq2M7jwpt55b9d84D4BgwGALeURp6Rsdtdh67r7h11VHoLG1Npx/m4vWuZ7F8PuvmW0DKvtuMMLOcYxvX53dPxx6O5bpnVwfP1L2kr7k/FRx+kcjSe/5qREV86cdl5dktvdNCzNddpRcUdRX02wWrcr1zOyfTjx3pW1w/JfvhnMrpy43PW7Tjvc5qD7LthpeG5OO1OK5tgWGUx4hTrJ9uLP7/7n73//w/+Otw22sNfpboDBAAAdMHXvhpGt608/pW2sFBj34we5SHTImEI5BqPRQChD1C0SDpIEzX633z86TmUlHAsxo0GQjIIUlFPYzsuS4pVyu5uGXRbBn6I0ISZRl4Ucugk/GIbLY6tK1h/2HTtau2jlIoPxwiOSOxWlxONKuWPzS/TBhFdDXqVwyC7pcRETYYLCd3YYRsJgAADq1AGz8QOIWtfrtJHNLPnjnwd7tjqeIdrbcMQpN7oS9Wf0U33JNN3CIPTlZI4kN2UkV77yp+i26CadGOl+wkGx2HpCNwiXh8KQLL5+54abFqxcpB+R2kXaFTpRutN5gz7aUSTpME6v56hXLLWqtc4AAgwGAOiAqXs3TNS6TpLWOW5u5X+HQ9101PTzpFlO/ENtyrNmsWBSa+gBu6+H8Ts7Yd9Kpg8mawFhb8XA7TgHYiiple4nXS35Sz8TpWDlopVyK6QKs2ieS8Hn0XxpzazdbPcTYDAAALXogNnsYcSta9xLMVH7WKTBqFqRvhCsMRhDdilYicNkW399OfPaeW+mZ8jLtP5idMdxOm7vx11z4wazqPSFBhMqUKp8vvf5c3I5lB4ewGAAAOrRAbPZbpikdZUKI+bvppNE5CiSpXYSTK/fH4eTcDUGk86DUSaIKCMw2nLuZasol70AAAg4SURBVDDZcRtlAKhASjKjSMHi73fFjNslDSZbSG4UaWmDCbc3d3/4Qb529Ks6ohW9DsbbSBgMAEDNOmA2eDC5KSTmV6aVzokVw0vhr5QYttMfRQM7hmo4MwaTGQLx1BeUCsrJHMnMKFKyUnZ30SSStKwFo0jJy8rBFqNkKu+SBpMpJBzi0kxYLmkw6Uze+HL9678GGhZfn352cgxgMAAA9eiA2WA3jNK6RiMzs/0n0RvE8jfmulHPSaHBKA7zS/Ztam05mSPJ/6BdulJ+EspkHL4DLSe9Dj90ox6LYilJ955Mk13WYJQXwjNzbZc1mMz7Wunl+o+f1XNiIi8GAwBQyw6Yyh4SAAYDAFAhqtYBI3mMfykJADAYAKgPle3toBsGAIMBANBTzQ4YCd0wABgMAICeivdz0A0DgMEAAOSpcgeMhG4YAAwGACBPLXo46IYBwGAAAFKq3wEjoRsGAIMBAEipUd8G3TAAGAwAgKAuHTASumEAMBgAAEHtejXohgHAYABg26lXB4yEbhgADAYAtp2a9mfQDQOAwQDA9lLHDhgJ3TAAGAwAbC+17smgGwYAgwGAbaS+HTASumEAMBgA2EYa0IdBNwwABgMA20XdO2AkdMMAYDAAsF00pveCbhgADAYAKvC8qBUPP99vQ5L/kf+f+/NbhdmPvv7662+++aZ8IcuWn9sQAIMBANAbzFYdKmYAgMEAAAaDwawRZAswGAAADKZ+YDCAwQAAYDD10wIMBjAYAAAMBi0AwGAAAIPBYNYPsgUYDAAABlM/MBjAYAAA7qcFvnd1fn7l+YsXLmTBVmUKXXMfzApPdv6GZcvEYACDAQC4nxZ4p4eWdXjqLV64kMKt/MnY3beMVohh7bvjif8oBrPCky3c0J+MOnZ8rnZnNPExGAAMBgDqaDBiuWE7gwvP972LgWObO+7ltJkG498M9kx5slPvvLdrmnuDG58MAmAwALBhgwmcY+g6bctoGVbbOYp7T/zJ+ChZ6g4vxIBJuNXLN4OwvyXtapleujt2uoewjS8yhkc2mCVO9k5/vmJV9931NCnaLrS1+YcKgMEAAM+LRQZj7r4ejlWGr3elZMguBWu/OxiNBt2gpZZdCkJKzHDpeNR3bMMIm2lRVDhK1B0Mw5W1niK2tYo6JtY8k3eFJxuVVnS+YiJMsPbOzvxhJAwGMBgAgPsbTEuHbNQn46Nu0heR9FZIE+idh50RQWN9cRX3wSTNu2j3ZxUmnCRSPIi0iT6YFZ3s3fzzTeymeM4PBgMYDADAwwxm7tSQsDdh4HacAzGOItt62V6H03LbB514XCVb1GzBUl/mTm597Hkw5U+2xPku9DUADAYAYD0GIxtv0XQ7Tsft/bibzmAJGvvxQE4aabXC8ZZ5Lbp8Q2fhuzmPajBLnWyhwfje58/Ja9RzJ/3QBwMYDADAegwmHEBJ5qwkAyViwuvx+3i6atJKFxpMic6XVRrMRk62wGCGQ2VkacGkHwwGMBgAgPUYTDiJ1Xb6o/FYzm2VAyvKlNfog3CopMBgQhcwZCkxRb/29pgGs9zJFvXB/EU5WzHxd764YTCAwQAArMFglN+iE5NShx+6UY9C8n6x+hN1eoPRzp6t5NvUS53sXeE8mGwxY37RDgCDAYA1GEwDDxUtAMBgAACDwWDWCLIFGAwAAAZTPzAYwGAAADCY+mkBBgMYDADAPC2oESvRAmkG38aoy3Mfza5Z8qMvX76U3KqoEJIJGAwAAGyUQF+eP3/OdQDAYAAA6sTJycmTJ09ub2+5FAAYDABAbXjx4kVgMG/fvuVSAGAwAAD14MuXL3LKDgNJABgMAEBtkENIEgaSADAYAIB6IIeQJAwkAWAwAAA1IBlCkjx79oxrAoDBAABUHXUISfLp0ycuCwAGAwBQadQhJMmrV6+4LAAYDABAdckNITGQBIDBAADUgNkhJAaSADAYAICqMzuExEASAAYDAFBptENIDCQBYDAAAJXm9va2pxCIi/pn4DdcIgAMBgCg8k/hJzyHATAYAAAMBgCDAQAADAYAgwEAAAwGAIMBAMBgADAYAADAYAAwGAAAwGAAMBgAAAwGADAYAAAMBgCDAQAADAYAgwEAwGAAAIMBAMBgADAYAADAYAAwGAAADAYAMBgAAAwGAIMBAAAMBgCDAQAADAYAgwEAwGAAMBgAAMBgADAYAIDmykd14HYABgMAAGUNhiMBwGAAADAYDAYAgwEAwGAAMBgAAMBgADAYAAAMBoMBwGAAADAYAAwGAAAwGAAMBgBgGw3G967OxxrOrzx/0XaL1sFgAIMBAID1GIx3emi1NFiHp16RvExGHduQqxl2ZzTxV3IkABgMAAAs7w3CZeZ4S+IvN4M907CdwYU39c57u6a5N7jxV3okABgMAAAGc2+D8Sfjo07naBz1sUR//vP/++OR++56mmxk77iXUwwGAIMBAKiGwdzdTS/dHVOOE4n/NdTuFjERZtR3dnZKDiNhMIDBAADAZgwmdhin13NsMzvlRU6gMax9d4zBAGAwAACVMhjpMEbRlN1wUq9ZahgJgwEMBgAANmcw4czdVksZQPK9z5+T16jDj0tMAMZgAIMBAICNGUwoKObuDz8k7xyJ1Yy010V00Vhl3kbCYACDAQCAzRhMOpNXGS4Kh5UM2+mPxuNRf2Z+DAYDgMEAADyiwUhpSfREcRh/Mnb3LfGbduUn8mIwgMEAAMA6DGZrjgQAgwEAwGAwGAAMBgAAgwHAYAAAAIMBwGAAAGppMNWB2wEYDAAAAAAGAwAAAIDBAAAAAGAwAAAAgMEAAAAArJ//BhuISgKPR+yzAAAAAElFTkSuQmCC)</center>

因此，只要诚实的节点控制网络，验证就是可靠的，但如果网络被攻击者控制的话，验证就比较脆弱。因为网络节点可以自己验证交易，只要攻击者可以持续控制网络，简化方法就会被黑客捏造的交易愚弄。一个防止这种情况的策略是在网络节点检测到无效区块时发出警报，提示用户下载无效块或交易的完整信息，以确认不一致性。收款业务频繁的企业可能仍然希望运行自己的节点以获得更加独立的安全性和更快的验证。

## 9.合并和分割价值
虽然单独处理币是可能的，但每一分币要单独交易还是不容易的。为了让价值能被分割和合并，交易包含多个输入和输出。通常会有一个来自较大的前导交易的单一输入或多个来自较小前导交易的汇总输入，输出最多两个：一个用于付款，另一个用于将找零（如果有）返还给发起人。

<center>![](data:image/png;base64,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)</center>

需要指出，每笔交易依赖于之前多笔交易，这多笔交易又依赖前面更多的交易，这并不是问题。在这种机制中，没有必要展开检验之前的所有交易历史。

## 10.隐私
传统的银行业务模式通过限制当事人和可信第三方对信息的获取来实现一定程度的隐私保护。在本机制下，因为要公布所有交易，所以这种方法就不行了，但隐私仍然可以被保护，在另一个方向上阻断信息流，即保持公钥匿名。公众可以看到有人发送了一个金额给其他人，但没有可以将交易连接到任何人的信息。这类似于证券交易所的信息披露机制，交易时间、个人交易规模都记录在案且公开，但没有告知谁是当事人。

<center>![](data:image/png;base64,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)</center>

作为额外的防范措施，每笔交易都应该使用一对新的密钥，以保障它们不会指向共同的所有者。在多点输入的交易中，一些联系仍然不可避免，必然显示他们的输入为同一个所有者。风险是如果一个密钥的所有者被揭示，那么可以揭示出其他交易也属于该所有者。

## 11.计算方式
考虑以下场景，攻击者试图以比诚实链更快的速度生成另一条链。即使这样做完成，也不会使系统对任意改变开放，例如无中生有创造价值或者得到从不属于攻击者的金钱。节点不会接受无效的交易作为付款，诚实的节点永远不会接受一个包含无效交易的块。攻击者只能尝试改变他自己的一笔交易来收回他最近花了的钱。

诚实链和攻击者链之间的竞争可以被定性为二叉树随机游走。成功事件是诚实的链条延伸了一个区块，领先+1，而失败事件是攻击者的链延伸一个区块，差距-1。

攻击者从给定的落后中赶上的概率类似于赌徒破产问题。假设一个无限信用的赌徒从赤字开始进行潜在无限次的尝试，以填补亏损。我们可以计算他填补上亏损的概率，即攻击者追赶上诚实的链条的概率，如下[8]：

$p$ = 诚实节点找到下一个块的概率

$q$ = 攻击者找到下一个块的概率

$q_z$ = 攻击者将从后面$z$个块追上的概率

$$
q_z=\begin{cases}
        1 & if & p \leq q\\
        (\frac{q}{p})^z & if & p \gt q
    \end{cases}
$$

假设 $p \gt q$，成功概率随着攻击者需要追赶的块的数量的增加而呈指数下降。因为胜算不在攻击者这边，如果他没有足够的幸运快速成功的话，他的机会只会变得越来越小。

我们现在考虑一个新交易的接收者需要等待多长时间，才能充分确定发起人不能更改交易。我们假设发起人是攻击者，他想让接受者在一段时间内相信他已经付款，然后却把币交还给自己。届时，接收人将收到提醒，但为时已晚。

接收方生成一个新的密钥对，并在签约前不久才将公钥发送给发送方签约。这可以防止付款人预先准备好一个区块链然后持续地对此区块进行运算，直到他的区块链恰好超过诚实链条，方才立即执行支付。此时，只要交易一发出，攻击者就开始秘密地准备一条包含了该交易替代版本的平行链条。

接收方等到交易被添加到一个块，并且$z$个块连接到它后面。他不知道攻击者取得进展的确切数量，但是假设诚实的区块生成一个新块的时间为平均预期时间，攻击者的潜在进展就是一个泊松分布，其期望为：

$$\lambda = z\frac{q}{p}$$

为了得到攻击者现在还能追上的概率，我们把他可能已经取得的进展数量的泊松密度乘以他从这一点上可能赶上的概率： 

$$
\sum_{k=0}^{\infty}\frac{\lambda^k e^{-\lambda}}{k!} \cdot
\begin{cases}
    (\frac{q}{p})^{(z-k)} & if & k \le z \\
    1 & if & k \gt z
\end{cases}
$$

重新排列，以避免对无限数列求和。

$$1 - \sum_{k=0}^{z}\frac{\lambda^k e^{-\lambda}}{k!}(1-(\frac{q}{p})^{(z-k)})$$

转化为C代码…
``` c
double AttackerSuccessProbability(double q, int z) {
    double p = 1.0 - q;
    double lambda = z * (q / p);
    double sum = 1.0;
    int i, k;
    for (k = 0; k <= z; k++) {
        double poisson = exp(-lambda);
        for (i = 1; i <= k; i++)
            poisson *= lambda / i;
        sum -= poisson * (1 - pow(q / p, z - k));
    }
    return sum;
}
```

运行，得到一些结果，我们可以看到概率随着z呈指数下降。
```c
q=0.1
z=0     P=1.0000000
z=1     P=0.2045873
z=2     P=0.0509779
z=3     P=0.0131722
z=4     P=0.0034552
z=5     P=0.0009137
z=6     P=0.0002428
z=7     P=0.0000647
z=8     P=0.0000173
z=9     P=0.0000046
z=10    P=0.0000012   

q=0.3
z=0     P=1.0000000
z=5     P=0.1773523
z=10    P=0.0416605
z=15    P=0.0101008
z=20    P=0.0024804
z=25    P=0.0006132
z=30    P=0.0001522
z=35    P=0.0000379
z=40    P=0.0000095
z=45    P=0.0000024
z=50    P=0.0000006
```

为使P小于0.1％…

```c
p < 0.001
q=0.10    z=5
q=0.15    z=8
q=0.20    z=11
q=0.25    z=15
q=0.30    z=24
q=0.35    z=41
q=0.40    z=89
q=0.45    z=340
```

## 12.结论
我们提出了一个不依靠信任的电子交易系统。我们从数字签名构成的通用币框架开始，数字签名提供了对所有权强有力的控制，但由于没有办法防止双花，仍然是不完整的。为了解决这个问题，我们提出了一个使用工作量证明记录交易的公共历史的对等网络，在诚实节点控制多数算力的情况下，攻击者要改变交易会迅速变得不切实际。该网络的强健之处在于它非结构化的简洁性。所有节点只需要少量沟通就可同时工作。他们不需要被识别，因为信息没有路由到任何特定的地方，只需要以尽力而为的方式交付。节点可以随意离开或重新加入网络，并接受最长的工作量证明链，以此确证他们不在网络期间发生的事。他们用算力进行投票，扩展接受的链，拒绝工作在包含无效区块的链上。任何需要的规则和激励都可以通过这个共识机制来实施。

## 参考资料
[1] W. Dai, "b-money," http://www.weidai.com/bmoney.txt, 1998.

[2] H. Massias, X.S. Avila, and J.-J. Quisquater, "Design of a secure timestamping service with minimal
trust requirements," In *20th Symposium on Information Theory in the Benelux*, May 1999.

[3] S. Haber, W.S. Stornetta, "How to time-stamp a digital document," In Journal of Cryptology, vol 3, no
2, pages 99-111, 1991.

[4] D. Bayer, S. Haber, W.S. Stornetta, "Improving the efficiency and reliability of digital time-stamping,"
In *Sequences II: Methods in Communication, Security and Computer Science*, pages 329-334, 1993.

[5] S. Haber, W.S. Stornetta, "Secure names for bit-strings," In *Proceedings of the 4th ACM Conference
on Computer and Communications Security*, pages 28-35, April 1997.

[6] A. Back, "Hashcash - a denial of service counter-measure,"
http://www.hashcash.org/papers/hashcash.pdf, 2002.

[7] R.C. Merkle, "Protocols for public key cryptosystems," In *Proc. 1980 Symposium on Security and
Privacy*, IEEE Computer Society, pages 122-133, April 1980.

[8] W. Feller, "An introduction to probability theory and its applications," 1957.